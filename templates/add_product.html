{% extends "layout.html" %}

{% block content %}
  <section>
    <h2>Add Product</h2>
    <form class="form" method="post" action="{{ url_for('add_product') }}">
      <label for="name">Product Name:</label>
      <input type="text" id="name" name="name" required />

      <label for="description">Product Description:</label>
      <textarea id="description" name="description"></textarea>

      <label for="price">Price (USD):</label>
      <input type="number" id="price" name="price" step="0.01" required />

      <label for="stock">Stock Quantity:</label>
      <input type="number" id="stock" name="stock" required />

      <label for="category">Category:</label>
      <select id="category" name="category_id" required>
        <option value="" disabled {% if not selected_category_id %}selected{% endif %}>
          Select a category
        </option>
        {% for category in categories %}
          <option value="{{ category.id }}" {% if selected_category_id == category.id %}selected{% endif %}>
            {{ category.name }}
          </option>
        {% endfor %}
      </select>
      <div class="form__actions">
        <button class="btn btn--add" type="submit">Add Product</button>
        <a class="btn btn--cancel"
           href="{{ url_for('view_category', category_id=selected_category_id) if selected_category_id else url_for('list_products') }}">Cancel</a>
      </div>
    </form>
  </section>
{% endblock content %}
